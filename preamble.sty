% preamble.sty
\ProvidesPackage{preamble}[2024/04/27 Custom Preamble Package]

% -------------------- Geometry and Page Layout --------------------
\RequirePackage[a4paper,top=2.54cm, bottom=4.35cm, left=2.54cm, right=2.54cm]{geometry}  % Margin
\RequirePackage{afterpage}
%\RequirePackage{titling}
\RequirePackage{authoraftertitle}

% -------------------- Encoding and Fonts --------------------
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{lmodern}
\RequirePackage{times}
% \let\Bbbk\relax % Fix error from amsmath and newtxmath having both \Bbbk % why on earth would you even force it to be essentially null when it cant even be replaced
% \RequirePackage{newtxmath} % Math font STUPID \Bbbk ERROR KEEPS BREAKING IT 
% \RequirePackage{newtxtext}
% \renewcommand{\Bbbk}{\mathbb{K}}
% \renewcommand{\familydefault}{\sfdefault} 

% -------------------- Warning Filters --------------------
\RequirePackage{silence}
\WarningFilter{latexfont}{Font shape}  % REMOVES STUPID ERROR MESSAGE FORM FONTS
\WarningFilter{latex}{Underfull \hbox} % REMOVES UNDERFULL HBOX BADNESS 10000

% -------------------- Mathematics --------------------
\RequirePackage{amsmath, amssymb, mathtools, derivative}
\RequirePackage{esint}  % For loop integrals
\RequirePackage{steinmetz} % Phasor notation
\RequirePackage{pict2e}
\RequirePackage{xfrac} % Better fractions in inline

% -------------------- Graphics and Tables --------------------
\RequirePackage{graphicx}
\RequirePackage{tikz, pgfplots}
\pgfplotsset{compat=1.18}
\usetikzlibrary{
    arrows.meta,
    decorations.pathmorphing,
    decorations.markings,
    patterns,
    calc,
    matrix,
    positioning,
    intersections,
    topaths,
    shapes,
}
\usepgfplotslibrary{
    fillbetween,
    colormaps,
}
\RequirePackage{circuitikz}
\RequirePackage{pgffor}  % For loops in TikZ
\RequirePackage{booktabs} % Enhanced tables
\RequirePackage{caption}
\RequirePackage{tcolorbox}
\tcbuselibrary{
    theorems,
    skins,
    breakable
}

% -------------------- Layout and Formatting --------------------
\setlength{\parindent}{30pt}
\RequirePackage{setspace}
\setstretch{1.5} % Sets the stretching of paragraphs 
\RequirePackage[status=draft,layout=margin]{fixme} % For annotations 
\RequirePackage{fancyhdr}
\RequirePackage{titlesec}
\RequirePackage{titletoc}
\RequirePackage{enumitem}
\RequirePackage{multicol}
\RequirePackage{tabularx}
\RequirePackage{ulem} % For better underlining
\RequirePackage{fancyvrb, fvextra} % Better verbatim environments

% -------------------- Color and Hyperlinks --------------------
\RequirePackage{xcolor}
\RequirePackage{hyperref}
\RequirePackage{nameref}
\hypersetup{
    colorlinks=true,
    citecolor=black,
    filecolor=black,
    linkcolor=blue,
    urlcolor=blue,
    linktocpage=true
}

% -------------------- Page Style --------------------
\renewcommand{\headrulewidth}{0.75pt}
\setlength{\headheight}{2em}
%\setlength{\footskip}{92.7pt}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[R]{\thepage}
\lhead{\raisebox{-0.1cm}{\includegraphics[height=0.65cm]{images/logo-akpro-with-text}}} % Footer logo

% -------------------- Section Titles with titlesec --------------------
\titleformat{\section}[hang]{\normalsize\bfseries\filcenter}{}{0pt}{}
\titlespacing{\section}{0pt}{12pt}{12pt}

% -------------------- Table of Contents Style with titletoc --------------------
\titlecontents{section}
    [0pt]
    {}
    {}
    {}
    {\titlerule*[0.1cm]{.}\contentspage}
    []

\titlecontents{subsection}
    [1.5em] % Indentation
    {\small} % Format for the title entry in ToC
    {\contentslabel{2.5em}} % Numbering width in ToC
    {}
    {\titlerule*[0.25pc]{.}\contentspage} % Dotted line with page number
    []

\renewcommand*\contentsname{\centering\textbf{Daftar Isi}}     % Title of TOC section 

\endinput